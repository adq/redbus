<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="org.redbus"
    android:versionCode="49"
    android:versionName="1.0.47" >

    <uses-sdk
        android:minSdkVersion="4"
        android:targetSdkVersion="4" />

    <supports-screens
        android:largeScreens="true"
        android:smallScreens="true" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.VIBRATE" />

    <uses-feature
        android:name="android.hardware.location.gps"
        android:required="false" />

    <application
        android:allowBackup="true"
        android:backupAgent="org.redbus.settings.SettingsBackupAgent"
        android:icon="@drawable/icon72"
        android:label="@string/app_name"
        android:restoreAnyVersion="true" >
        <activity
            android:name="org.redbus.ui.RedbusTabView"
            android:label="Edinburgh Bus Tracker" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity-alias
            android:name="org.redbus.RedbusTabView"
            android:label="Edinburgh Bus Tracker"
            android:targetActivity="org.redbus.ui.RedbusTabView" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <!-- do not add LAUNCHER here or you end up with multiple entries! -->
            </intent-filter>
        </activity-alias>
        <activity-alias
            android:name="org.redbus.StopBookmarksActivity"
            android:label="Edinburgh Bus Tracker"
            android:targetActivity="org.redbus.ui.RedbusTabView" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <!-- do not add LAUNCHER here or you end up with multiple entries! -->
            </intent-filter>
        </activity-alias>

        <activity
            android:name="org.redbus.ui.CreateShortcutActivity"
            android:label="Bus Bookmark"
            android:theme="@android:style/Theme.Dialog" >
            <intent-filter>
                <action android:name="android.intent.action.CREATE_SHORTCUT" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        <activity android:name="org.redbus.ui.arrivaltime.ArrivalTimeActivity" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />

                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />

                <data
                    android:host="mobile.mybustracker.co.uk"
                    android:scheme="http" />
            </intent-filter>
        </activity>

        <activity-alias
            android:name="org.redbus.BusTimesActivity"
            android:label="Bus Times"
            android:targetActivity="org.redbus.ui.arrivaltime.ArrivalTimeActivity" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
            </intent-filter>
        </activity-alias>

        <activity android:name="org.redbus.ui.trafficinfo.TrafficInfoActivity" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
            </intent-filter>
        </activity>
        <activity
            android:name="org.redbus.ui.arrivaltime.NearbyBookmarkedArrivalTimeActivity"
            android:label="Nearby arrivals" />
        <activity
            android:name="org.redbus.ui.SpeakWhereIamActivity"
            android:configChanges="orientation"
            android:label="Where I am"
            android:theme="@android:style/Theme.Dialog" />

        <!-- Handle media button press in order to start speech. -->
        <!-- Deliberate low priority so never called unless via an app like 'media button router' -->
        <!-- http://code.google.com/p/media-button-router/ -->


        <!--
                <receiver android:name=".ui.MediaButtonPressedReceiver">
      <intent-filter  android:priority="1">
        <action android:name="android.intent.action.MEDIA_BUTTON"/>
      </intent-filter>
    </receiver>
        -->

        <activity
            android:name="org.redbus.ui.stopmap.StopMapActivity"
            android:label="Map" />
        <activity
            android:name="org.redbus.ui.BookmarksActivity"
            android:label="Edinburgh Bus Tracker" />

        <uses-library android:name="com.google.android.maps" />

        <receiver android:name="org.redbus.ui.alert.TemporalAlert" />
        <receiver android:name="org.redbus.ui.alert.ProximityAlert" />
        <receiver android:name="org.redbus.ui.alert.AlertNotificationPressedReceiver" />

        <meta-data
            android:name="com.google.android.backup.api_key"
            android:value="AEdPqrEAAAAIbuJf7aPvzjJ8aS4zUoIy5bLO70X_y_AnJNTFSw" />

        <service
            android:name="com.android.tools.fd.runtime.InstantRunService"
            android:exported="true" />
    </application>

</manifest>